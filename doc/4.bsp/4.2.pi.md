Raspberry Pi
============
Get meta-raspberrypi at <https://git.yoctoproject.org/cgit/cgit.cgi/meta-raspberrypi>.

Tested with:
```
poky             : warrior:b164f0dc3e69ba9cb552b48834cd6c50f50c5000
meta-raspberrypi : warrior:1c842e21c22e999b8a317e33d7748102ef13b6b4
meta-debian      : warrior:7df267bd32b8229e1a67ab537c30e3f3eaeaa3d8
```

Build
-----
1. Setup build directory.
   ```sh
   $ export TEMPLATECONF=meta-debian/conf
   $ source ./poky/oe-init-build-env build-pi
   ```

2. Add layer `meta-raspberrypi` and `meta-debian/bsp/meta-raspberrypi` to `conf/bblayers.conf`.
   ```sh
   $ vi conf/bblayers.conf
   ...
   BBLAYERS ?= " \
     /path/to/poky/meta \
     /path/to/poky/meta-poky \
     /path/to/poky/meta-raspberrypi \
     /path/to/poky/meta-debian \
     /path/to/poky/meta-debian/bsp/meta-raspberrypi \
     "
   ```

3. We do the test with Raspberry Pi 3, so set `MACHINE` to `raspberrypi3`.
   ```sh
   $ vi conf/local.conf
   ...
   MACHINE ??= "raspberrypi3"
   ...
   ```

4. Build.  
   By default, `DISTRO` is set to 'deby-tiny', so only `core-image-minimal` is available to build
   ```sh
   $ bitbake core-image-minimal
   ```

   In `conf/local.conf`, `DISTRO` can be changed to 'deby' for building `core-image-base`.

After finish building, `tmp/deploy/images/raspberrypi3/core-image-minimal-raspberrypi3.rpi-sdimg` should be available.

Boot
----
1. Burn sdimg file to SD card using [etcher](https://www.balena.io/etcher/) or `dd`:
   ```sh
   # Assume /dev/sdb is target SD card
   $ sudo dd if=core-image-minimal-raspberrypi3.rpi-sdimg of=/dev/sdb
   ```

2. Boot the SD card on the board and login with `root` (no password).
